<ng-template #ChangePassword let-c="close" let-d="dismiss">
  <div class="modal-header pb-2">
    <h4 class="font-size-h6 font-weight-bolder">Đổi mật khẩu</h4>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="c('Close click')">
      <i aria-hidden="true" class="ki ki-close"></i>
    </button>
  </div>
  <div class="modal-body pt-2">
    <form class="form" [formGroup]="formPassword" novalidate="novalidate" (ngSubmit)="submit()" *ngIf="formPassword">
      <div class="form-group" data-kt-password-meter="true">
        <label>Mật khẩu cũ</label>
        <div class="position-relative">
          <input
            class="form-control"
            type="password"
            name="oldPassword"
            autocomplete="off"
            formControlName="oldPassword"
            [class.is-valid]="isControlValid('oldPassword')"
            [class.is-invalid]="isControlInvalid('oldPassword')"
          />
          <span class="btn btn-sm btn-icon position-absolute" data-kt-password-meter-control="visibility" style="top: calc(50% - 16px); right: 30px">
            <i class="fas fa-eye-slash"></i>
            <i class="fas fa-eye d-none"></i>
          </span>
          <div class="invalid-feedback position-absolute" *ngIf="controlHasError('required', 'oldPassword')" style="bottom: -20px; left: 0px">
            Vui lòng nhập mật khẩu cũ.
          </div>
        </div>
      </div>
      <div class="form-group" data-kt-password-meter="true">
        <label>Mật khẩu mới</label>
        <div class="position-relative">
          <input
            class="form-control"
            type="password"
            name="newPassword"
            autocomplete="off"
            formControlName="newPassword"
            [class.is-valid]="isControlValid('newPassword')"
            [class.is-invalid]="isControlInvalid('newPassword')"
          />
          <span class="btn btn-sm btn-icon position-absolute" data-kt-password-meter-control="visibility" style="top: calc(50% - 16px); right: 30px">
            <i class="fas fa-eye-slash"></i>
            <i class="fas fa-eye d-none"></i>
          </span>
          <div class="invalid-feedback position-absolute" *ngIf="controlHasError('required', 'newPassword')" style="bottom: -20px; left: 0px">
            Vui lòng nhập mật khẩu mới.
          </div>
        </div>
      </div>
      <div class="form-group" data-kt-password-meter="true">
        <label>Xác nhận mật khẩu mới</label>
        <div class="position-relative">
          <input
            class="form-control"
            type="password"
            name="rePassword"
            autocomplete="off"
            formControlName="rePassword"
            [class.is-valid]="isControlValid('rePassword')"
            [class.is-invalid]="isControlInvalid('rePassword')"
          />
          <span class="btn btn-sm btn-icon position-absolute" data-kt-password-meter-control="visibility" style="top: calc(50% - 16px); right: 30px">
            <i class="fas fa-eye-slash"></i>
            <i class="fas fa-eye d-none"></i>
          </span>
          <div class="invalid-feedback position-absolute" *ngIf="controlHasError('required', 'rePassword')" style="bottom: -20px; left: 0px">
            Vui lòng nhập lại mật khẩu mới.
          </div>
        </div>
      </div>
      <div class="pb-lg-0 pb-5">
        <button
          type="submit"
          class="btn btn-success font-weight-bolder font-size-h6 px-8 py-4 my-3 mr-3 text-dark"
          style="width: 100%; background-color: #f2ce5f; border-color: #f2ce5f"
          [disabled]="formPassword.invalid"
        >
          Lưu lại
        </button>
      </div>
    </form>
  </div>
</ng-template>
